{"styles": [{"styleSet": "ocm_truck_attributes", "technique": "line", "when": ["!", ["==", ["ref", "truckIconLookup"], null]], "category": ["case", ["ref", "Truck.Class.0"], "class-0", ["ref", "Truck.Class.1"], "class-1", ["ref", "Truck.Class.2"], "class-2", ["ref", "Truck.Class.3"], "class-3", ["ref", "Truck.Class.4"], "class-4", "class-pedestrian"], "minZoomLevel": ["ref", "Truck.MinZoomLevel"], "attr": {"width": ["case", ["ref", "Truck.Class.0"], ["world-scale", ["ref", "TruckLine.Category0.Width"]], ["ref", "Truck.Class.1"], ["world-scale", ["ref", "TruckLine.Category1.Width"]], ["ref", "Truck.Class.2"], ["world-scale", ["ref", "TruckLine.Category2.Width"]], ["ref", "Truck.Class.3"], ["world-scale", ["ref", "TruckLine.Category3.Width"]], ["ref", "Truck.Class.4"], ["world-scale", ["ref", "TruckLine.Category4.Width"]], ["ref", "Truck.Class.Pedestrian"], ["world-scale", ["ref", "TruckLine.Pedestrian.Width"]], ["world-scale", ["ref", "TruckLine.Pedestrian.Width"]]], "color": ["ref", "TruckLine.Color"], "smooth-steps": ["make-vector", 4, 0.75]}}, {"id": "truck_attributes_labels", "styleSet": "ocm_truck_attributes", "technique": "icontext", "description": "Truck Attributes Icons", "category": ["concat", "truck-icon-", ["ref", "masterlist_Kind_truck"]], "attr": {"iconMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "textMinZoomLevel": ["ref", "Truck.MinZoomLevel"], "highlightable": false, "anchor-point-density": 10, "margin": ["ref", "TruckIcon.Margin"], "check-margin": ["ref", "defaultMargin"], "persisting-margin-reducing": ["ref", "defaultPersistingMarginReducing"], "far-threshold": 0.9, "far-threshold-range": 0.05, "text-dx": 0, "text-dy": 0, "text-opacity": ["case", ["ref", "Icon.Allows.No.Text"], 0, 1], "icon-shadow-enabled": ["ref", "Truck.IconShadow.Enabled"], "icon-shadow-color": ["ref", "IconShadow.Color"], "icon-shadow-blur-radius": ["ref", "IconShadow.BlurRadius"], "icon-shadow-size-increment": ["ref", "IconShadow.SizeIncrement"], "icon-shadow-shear-factor-x": ["ref", "IconShadow.ShearFactor.X"], "icon-shadow-shear-factor-y": ["ref", "IconShadow.ShearFactor.Y"], "icon-shadow-dx": ["ref", "IconShadow.Distance.X"], "icon-shadow-dy": ["-", ["ref", "IconShadow.Distance.Y"]], "text-color": ["ref", "TruckIcon.FontStyle.Color"], "font": ["ref", "TruckIcon.FontStyle.FontSet"], "font-size": ["ppi-scale", ["*", ["ref", "TruckIcon.FontStyle.Size"], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], "image": ["concat", ["ref", "truckIconLookup"], ".svg"], "text-brightness": ["ref", "TruckIcon.Text.Brightness"], "icon-brightness": ["ref", "TruckIcon.Icon.Brightness"], "icon-width": ["case", ["==", ["length", ["get", "$localized-name"]], 2], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["==", ["length", ["get", "$localized-name"]], 3], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.15], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["all", ["==", ["length", ["get", "$localized-name"]], 4], ["ref", "Is.Width.Restriction"], ["!", ["==", ["get", "country_code"], "USA"]]], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.475], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["==", ["length", ["get", "$localized-name"]], 4], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.25], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["==", ["length", ["get", "$localized-name"]], 5], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.425], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["==", ["length", ["get", "$localized-name"]], 6], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.45], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], [">=", ["length", ["get", "$localized-name"]], 7], ["ppi-scale", ["*", ["*", ["ref", "TruckIcon.Size"], 1.65], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]], ["ppi-scale", ["*", ["ref", "TruckIcon.Size"], ["ref", "TruckIcon.FontStyle.SizeFactor"]], ["ref", "ScalePpi.labels"]]]}}]}